"use strict";(self.webpackChunkmyreactapp=self.webpackChunkmyreactapp||[]).push([[796],{6796:(t,e,a)=>{a.r(e),a.d(e,{default:()=>n});a(5043),a(8918),a(2818),a(1700);var r=a(579);var s=a(8451);function n(){return(0,r.jsx)("div",{children:(0,r.jsx)(s.A,{})})}},8451:(t,e,a)=>{a.d(e,{A:()=>n});var r=a(5043),s=a(579);const n=()=>{const t=(0,r.useRef)(null),e=(0,r.useRef)(null),a=(0,r.useRef)(null),[n,o]=(0,r.useState)(null),[c,i]=(0,r.useState)(!0),[l,u]=(0,r.useState)([]);(0,r.useEffect)((()=>(h(),()=>{d()})),[c]);const d=()=>{n&&n.getTracks().forEach((t=>{t.stop()}))},h=async()=>{d();const e={video:{facingMode:c?"user":"environment"}};try{const a=await navigator.mediaDevices.getUserMedia(e);o(a),t.current.srcObject=a}catch(a){alert("Could not access the camera")}},p=()=>"screenshot_".concat(Math.random().toString(36).substr(2,9),".png"),g=(t,e,a)=>{const{width:r,height:s}=t,n=(Math.min(e/r,a/s),document.createElement("canvas"));return n.width=e,n.height=a,n.getContext("2d").drawImage(t,0,0,r,s,0,0,e,a),n};return(0,s.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%"},children:[(0,s.jsx)("video",{ref:t,style:{width:"100%",height:"100%",objectFit:"cover"},autoPlay:!0,muted:!0}),(0,s.jsxs)("div",{style:{position:"absolute",bottom:"10px",left:"50%",transform:"translateX(-50%)",zIndex:1},children:[(0,s.jsx)("button",{onClick:()=>{const a=e.current,r=t.current;a.width=r.videoWidth,a.height=r.videoHeight,a.getContext("2d").drawImage(r,0,0);const s=g(a,640,480).toDataURL("image/png"),n=p();localStorage.setItem(n,s),u([...l,n])},className:"btn btn-light",children:(0,s.jsx)("i",{className:"bi bi-camera-fill"})}),l.length>0&&(0,s.jsx)("button",{onClick:()=>(t=>{const e=localStorage.getItem(t),r=document.createElement("img");r.src=e,a.current.innerHTML="",a.current.appendChild(r)})(l[l.length-1]),className:"btn btn-light",children:(0,s.jsx)("i",{className:"bi bi-cloud-arrow-down-fill"})}),(0,s.jsx)("button",{onClick:()=>{i((t=>!t)),h()},className:"btn btn-light",children:(0,s.jsx)("i",{className:"bi bi-arrow-repeat"})})]}),(0,s.jsx)("canvas",{ref:e,style:{display:"none"}}),(0,s.jsx)("div",{ref:a})]})}},8918:(t,e,a)=>{a.d(e,{g:()=>d});var r=a(6213),s=a(3975),n=a(64),o=a.n(n),c=a(1700),i=a(698),l=a(579);const u=r.A.create({baseURL:"http://opening.micropiranti.id/api/",timeout:1e4}),d=()=>{const{startLoading:t,stopLoading:e,setErrorMsg:a,clearError:r}=(0,c.c)(),{showAlert:n}=(0,i.c)();return{getRequest:async function(a){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t(),r();try{const t=await u.get(a,{params:o});return 200!==t.status?(0,l.jsx)(s.A,{fallback:t.statusText}):t.data}catch(c){throw n({icon:"error",title:"Oops..., ".concat(c.response.status," ").concat(c.response.statusText),html:(0,l.jsxs)("p",{children:["Please check url ",(0,l.jsx)("span",{className:"text-info",children:c.request.responseURL})]}),confirmButtonText:"Ok"},"sm","default-popup-background","default-backdrop"),c}finally{e()}},postRequest:async(s,n)=>{t(),r();try{const t=await u.post(s,n);return 200!==t.status&&o().error({title:"Error",text:t.message,icon:"error"}),t.data}catch(c){throw a(c.response?c.response.data:"Network Error"),c}finally{e()}},putRequest:async(s,n)=>{t(),r();try{return(await u.put(s,n)).data}catch(o){throw a(o.response?o.response.data:"Network Error"),o}finally{e()}},deleteRequest:async s=>{t(),r();try{return(await u.delete(s)).data}catch(n){throw a(n.response?n.response.data:"Network Error"),n}finally{e()}}}}}}]);
//# sourceMappingURL=796.62b1b878.chunk.js.map